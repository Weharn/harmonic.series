#include <iostream>
#include <vector>
#include <fstream>
#include <string>
#include <Windows.h>

void write_to_file()
{
	wchar_t path[256];
	int path_terminus{ -1 };
	std::string str_path{};

	GetModuleFileName(NULL, path, 256);                     //finds the current path

	for (int i{}; (i < 256 && i != path_terminus); ++i)     //finds location of the end of the path within the string
	{
		if (path[i] == '\0')
		{
			path_terminus = i;
		}
	}

	for (int i{ 0 }; i < (path_terminus - 20); ++i)         //deletes the "\\harmonic.series.exe" from the end
	{
		str_path.push_back(path[i]);
	}

	str_path += "\\harmonic_series.txt";                    //adds the filename to the path (changed from .wav to .txt for ease of reproductibility)

	std::ofstream ofs(str_path, std::ios::binary);          //opens the filestream

	if (!ofs.is_open())
	{
		std::cout << "Failed to open the ofstream.\n\n";
		system("pause");
		std::abort();
	}
	
	ofs << "placeholder_data";
}

int main()
{
	write_to_file();
	
	return 0;
}